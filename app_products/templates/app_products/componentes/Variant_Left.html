<!-- app_products/componentes/Variant_Left.html -->

{% load moneda %}
{% load static %}

<!-- ================= GALERÍA DE IMÁGENES ================= -->
{% if all_variant_images %}
    <div class="product-images d-flex flex-column flex-md-row">
        
        <!-- MINIATURAS - TODAS LAS IMÁGENES DE TODAS LAS VARIANTES -->
        <div id="thumbnailContainer" class="thumbnail-column me-md-3 mb-3 mb-md-0">
            {% for img in all_variant_images %}
            <img 
                src="{{ img.url }}"
                alt="{{ img.alt }}"
                class="product-thumb {% if forloop.first %}active{% endif %}"
                onclick="changeMainImage('{{ img.url }}', '{{ img.alt }}')"
                data-variant-id="{{ img.variant_id }}"
            >
            {% endfor %}
        </div>

        <!-- IMAGEN PRINCIPAL -->
        <div class="main-image flex-grow-1 text-center">
            <img 
                id="mainProductImage"
                src="{{ main_image.url }}"
                alt="{{ main_image.alt }}"
                class="main-product-image"
            >
        </div>

    </div>
{% else %}
    <div class="alert alert-light border text-center py-5" role="alert">
        <i class="bi bi-image fs-1 text-muted d-block mb-3"></i>
        <p class="text-muted mb-0">No hay imágenes disponibles para este producto.</p>
    </div>
{% endif %}

<hr class="hr-separador">

<!-- ================= RATING ================= -->
<div class="mb-3">
    {% include 'app_products/componentes/rating_product.html' %}
</div>

<!-- ================= DESCRIPCIÓN ================= -->
<div class="product-description mb-4 p-3 bg-light rounded">
    <h6 class="fw-bold mb-3 text-dark">
        <i class="bi bi-info-circle text-primary me-2"></i>
        Descripción
    </h6>
    <div class="text-muted lh-base">
        {{ product.description_short|safe }}
    </div>
</div>