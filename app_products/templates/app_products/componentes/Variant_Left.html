{% load moneda %}
{% load static %}

<!-- ================= GALERÍA DE IMÁGENES ================= -->
{% if all_variant_images %}
    <div class="product-images d-flex flex-column flex-md-row">
        
        <!-- IMAGEN PRINCIPAL -->
        <div class="main-image flex-grow-1 text-center">
            <img 
                id="mainProductImage"
                src="{{ main_image.url }}"
                alt="{{ main_image.alt }}"
                class="main-product-image"
            >
        </div>

        <!-- MINIATURAS - TODAS LAS IMÁGENES DE TODAS LAS VARIANTES -->
        <div id="thumbnailContainer" class="thumbnail-column me-md-3 mb-3 mb-md-0">
            {% for img in all_variant_images %}
            <img 
                src="{{ img.url }}"
                alt="{{ img.alt }}"
                class="product-thumb {% if forloop.first %}active{% endif %}"
                onclick="changeMainImage('{{ img.url }}', '{{ img.alt }}')"
                data-variant-id="{{ img.variant_id }}"
            >
            {% endfor %}
        </div>

    </div>
{% else %}
    <p class="text-muted">No hay imágenes disponibles.</p>
{% endif %}

<hr class="hr-separador">

{% include 'app_products/componentes/rating_product.html' %}

<!-- ================= DESCRIPCIÓN ================= -->
<div class="product-description mb-4">
    {{ product.description_short|safe }}
</div>